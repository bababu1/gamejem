# ──────────────────────────────────────────────────
# 　　　　　　　　캐릭터 및 이미지 정의
# ──────────────────────────────────────────────────

define iv = Character("면접관")
define narr = Character(None)

# 이미지 파일은 실제 경로에 맞게 준비해야 합니다.
# 예시: game/images/bg_office.jpg
image bg office = "images/bg_office.jpg"
image iv_happy = "images/interviewer_happy.png"
image iv_neutral = "images/interviewer_neutral.png"
image iv_serious = "images/interviewer_serious.png"
image iv_thinking = "images/interviewer_thinking.png" # 생각하는 표정 추가

# ──────────────────────────────────────────────────
# 　　　　　　　　게임 시작 및 변수 초기화
# ──────────────────────────────────────────────────

label start:
    # 변수 초기화: 신뢰도, 전문성, 창의성
    default trust = 0
    default pro = 0
    default creative = 0

    scene bg office
    show iv_neutral
    iv "반갑습니다. 저희 회사에 지원해주셔서 감사합니다."
    iv "그럼, 면접을 시작하겠습니다. 먼저 자기소개 부탁드립니다."

# ──────────────────────────────────────────────────
# 　　　　　　　　　　1차 질문 (자기소개)
# ──────────────────────────────────────────────────

label q1:
    menu:
        "항상 배우고 성장하는, 열정 넘치는 지원자 OOO입니다!":
            $ trust += 1
            $ creative += 1
            jump q2_enthusiastic

        "구체적인 성과로 증명하는, 결과 중심의 지원자 OOO입니다.":
            $ pro += 2
            jump q2_result

        "어... 안녕하십니까. 이번에 지원하게 된 OOO입니다. 잘 부탁드립니다.":
            $ trust -= 1
            jump q2_nervous

# ──────────────────────────────────────────────────
# 　　　　　　　 2차 질문 (열정 루트)
# ──────────────────────────────────────────────────
label q2_enthusiastic:
    show iv_happy
    iv "패기가 느껴져서 좋네요. 그렇다면 입사 후에 어떤 역할로 팀에 기여하고 싶으신가요?"

    menu:
        "다양한 아이디어를 내고 새로운 시도를 이끄는 기획자가 되고 싶습니다.":
            $ creative += 2
            $ pro += 1
            jump q3_creative_path

        "동료들과 시너지를 만들고 팀의 사기를 북돋우는 분위기 메이커가 되겠습니다.":
            $ trust += 2
            jump q3_team_path

        "맡은 분야에서 최고의 기술 전문가가 되어 기술적 난제를 해결하고 싶습니다.":
            $ pro += 2
            jump q3_tech_path

# ──────────────────────────────────────────────────
# 　　　　　　 2차 질문 (결과 지향 루트)
# ──────────────────────────────────────────────────
label q2_result:
    show iv_thinking
    iv "결과를 중요시하는군요. 본인이 주도했던 프로젝트 중 가장 자랑스러운 성과가 있다면 말씀해주시겠어요?"

    menu:
        "기존 프로세스를 자동화하여 팀의 업무 효율을 50% 개선한 경험이 있습니다.":
            $ pro += 2
            $ trust += 1
            jump q3_tech_path

        "사용자 피드백을 분석하고 A/B 테스트를 통해 서비스 이탈률을 20% 낮춘 경험이 있습니다.":
            $ pro += 1
            $ creative += 1
            jump q3_creative_path

        "팀원들과의 갈등을 중재하고 역할 분담을 명확히 하여 프로젝트를 성공적으로 마감한 경험이 있습니다.":
            $ trust += 2
            jump q3_team_path

# ──────────────────────────────────────────────────
# 　　　　　　　 2차 질문 (긴장 루트)
# ──────────────────────────────────────────────────
label q2_nervous:
    show iv_serious
    iv "많이 긴장하신 것 같네요. 괜찮습니다. 편하게 하세요. 보통 스트레스는 어떻게 해소하는 편이신가요?"

    menu:
        "관련 서적이나 강의를 찾아보며 부족한 점을 채우려고 노력합니다. 그 과정에서 스트레스가 해소됩니다.":
            $ pro += 1
            $ trust += 1
            jump q3_tech_path

        "새로운 것을 만드는 취미(코딩, 글쓰기 등)에 몰두하며 스트레스를 긍정적인 에너지로 전환합니다.":
            $ creative += 1
            $ trust += 1
            jump q3_creative_path

        "산책을 하거나 친구들과 대화하며 마인드 컨트롤을 합니다.":
            $ trust += 1
            jump q3_team_path


# ──────────────────────────────────────────────────
# 　　　　　　　 3차 질문 (공통 - 창의성 루트)
# ──────────────────────────────────────────────────
label q3_creative_path:
    show iv_neutral
    iv "흥미로운 답변이군요. 만약 우리 서비스의 핵심 기능을 하나 바꿀 수 있다면, 어떤 것을 어떻게 바꾸고 싶으신가요?"
    menu:
        "수익 모델과 직결되는 핵심 기능은 안정성을 위해 유지하고, 부가 기능 개선에 집중하겠습니다.":
            $ pro += 1
            jump q4_common_risk
        "최신 기술 트렌드인 AI를 접목하여 개인화 추천 기능을 고도화하고 싶습니다.":
            $ creative += 2
            $ pro += 1
            jump q4_common_conflict
        "경쟁사에는 없는, 완전히 새로운 기능을 추가하여 시장의 판도를 바꾸고 싶습니다.":
            $ creative += 3
            $ trust -= 1 # 너무 급진적
            jump q4_common_risk

# ──────────────────────────────────────────────────
# 　　　　　　　 3차 질문 (공통 - 팀워크 루트)
# ──────────────────────────────────────────────────
label q3_team_path:
    show iv_neutral
    iv "좋습니다. 협업 경험에 대해 질문드리겠습니다. 팀의 목표와 자신의 의견이 충돌할 때는 어떻게 대처하시나요?"
    menu:
        "데이터와 객관적인 근거를 바탕으로 제 의견을 논리적으로 설득합니다.":
            $ pro += 2
            jump q4_common_conflict
        "일단 팀의 목표를 따르고, 제 의견은 다음 기회에 더 발전시켜서 제안하겠습니다.":
            $ trust += 1
            jump q4_common_risk
        "팀원들과의 충분한 대화를 통해 더 나은 제3의 대안을 찾는 데 집중합니다.":
            $ trust += 2
            $ creative += 1
            jump q4_common_conflict

# ──────────────────────────────────────────────────
# 　　　　　　　 3차 질문 (공통 - 기술 루트)
# ──────────────────────────────────────────────────
label q3_tech_path:
    show iv_neutral
    iv "기술 역량에 대한 자신감이 느껴지는군요. 그렇다면, 빠르게 변화하는 기술 트렌드를 어떻게 따라가고 계신가요?"
    menu:
        "매일 기술 블로그나 해외 아티클을 읽고, 중요 내용은 팀에 공유합니다.":
            $ pro += 1
            $ trust += 1
            jump q4_common_conflict
        "사이드 프로젝트를 진행하며 새로운 기술을 직접 적용해보고 경험을 쌓습니다.":
            $ pro += 2
            $ creative += 1
            jump q4_common_risk
        "회사에서 사용하는 기술 스택의 깊이를 파는 것이 더 중요하다고 생각합니다.":
            $ pro += 1
            jump q4_common_risk

# ──────────────────────────────────────────────────
# 　　　　　　　　　 4차 질문 (공통 - 갈등)
# ──────────────────────────────────────────────────
label q4_common_conflict:
    show iv_thinking
    iv "다음 질문입니다. 동료와 업무 스타일이 맞지 않아 갈등이 생긴다면 어떻게 해결하시겠습니까?"
    menu:
        "업무적인 부분과 인간적인 부분을 분리하고, 공동의 목표에만 집중하자고 제안합니다.":
            $ pro += 2
            $ trust -= 1
            jump q5_final
        "1대1로 솔직한 대화의 자리를 마련하여 서로의 입장을 이해하고 합의점을 찾습니다.":
            $ trust += 2
            jump q5_final
        "리더나 다른 팀원에게 중재를 요청하여 객관적인 해결책을 찾습니다.":
            $ trust += 1
            jump q5_final

# ──────────────────────────────────────────────────
# 　　　　　　　　　 4차 질문 (공통 - 위기)
# ──────────────────────────────────────────────────
label q4_common_risk:
    show iv_serious
    iv "알겠습니다. 만약, 담당하던 프로젝트가 실패할 위기에 처했다면 어떻게 하시겠습니까?"
    menu:
        "실패 원인을 철저히 분석하고 보고하여, 같은 실수를 반복하지 않도록 교훈을 얻는 데 집중합니다.":
            $ pro += 1
            $ trust += 1
            jump q5_final
        "팀원들의 사기가 떨어지지 않도록 독려하며, 남은 시간 동안 할 수 있는 최선을 다합니다.":
            $ trust += 2
            jump q5_final
        "기존 계획을 과감히 포기하고, 현실적으로 가능한 새로운 목표를 설정하여 손실을 최소화합니다.":
            $ pro += 2
            $ creative += 1
            jump q5_final

# ──────────────────────────────────────────────────
# 　　　　　　　　　　 5차 최종 질문
# ──────────────────────────────────────────────────
label q5_final:
    show iv_neutral
    iv "네, 잘 들었습니다. 마지막으로 저희에게 하고 싶은 질문이 있다면 편하게 해주시길 바랍니다."

    menu:
        "제가 입사하게 된다면, 3개월 안에 어떤 성과를 보여주기를 기대하시나요?":
            $ pro += 1
            jump ending
        "팀의 단기적인 목표와 장기적인 비전은 무엇인가요?":
            $ trust += 1
            $ pro += 1
            jump ending
        "회사의 성장 가능성을 믿고 지원했기 때문에, 특별한 질문은 없습니다.":
            jump ending
        "야근은... 많은 편인가요?":
            $ trust -= 2
            jump ending

# ──────────────────────────────────────────────────
# 　　　　　　　　　　 최종 평가 및 엔딩
# ──────────────────────────────────────────────────

label ending:
    show iv_neutral
    iv "면접에 참여해주셔서 감사합니다. 잠시 검토 후에 결과를 말씀드리겠습니다."
    iv "..."

    # 엔딩 분기: 총점 및 각 능력치 최고점을 기준으로 분기
    if pro >= 6 and trust >= 4 and creative >= 3:
        show iv_happy
        iv "정말 인상적인 분이시네요. 전문성, 신뢰도, 창의성 모두 뛰어납니다."
        iv "꼭 함께 일하고 싶습니다. 최고의 대우를 약속드리죠."
        narr "【S 등급: 러브콜 엔딩】"
    elif pro >= 5 and trust >= 3:
        show iv_happy
        iv "축하합니다! 합격입니다. 당신의 전문성과 안정감이 우리 팀에 큰 힘이 될 겁니다."
        iv "출근일은 추후 연락드리겠습니다."
        narr "【A 등급: 전문직 합격 엔딩】"
    elif trust >= 5 and creative >= 3:
        show iv_happy
        iv "합격입니다! 함께 일하게 되어 기쁘네요."
        iv "당신의 긍정적인 에너지와 창의적인 아이디어가 우리 팀에 새로운 활력을 불어넣을 것 같습니다."
        narr "【A 등급: 아이디어뱅크 합격 엔딩】"
    elif pro >= 4:
        show iv_neutral
        iv "내부적으로 논의가 조금 더 필요할 것 같습니다. 검토 후 일주일 내로 결과를 메일로 알려드리겠습니다."
        narr "【B 등급: 보류 엔딩】"
    elif trust >= 4:
        show iv_neutral
        iv "좋은 분인 것 같지만, 저희가 찾는 직무 역량과는 조금 거리가 있는 것 같습니다. 검토 후 연락드리겠습니다."
        narr "【B 등급: 아쉬운 보류 엔딩】"
    elif creative >= 4:
        show iv_thinking
        iv "매우 독창적인 분이시네요. 다만 저희 팀의 현재 방향과는 조금 맞지 않는 것 같습니다. 결과는 메일로 알려드리겠습니다."
        narr "【C 등급: 과유불급 엔딩】"
    else:
        show iv_serious
        iv "죄송하지만, 이번 채용에서는 아쉽게도 인연이 닿지 않은 것 같습니다."
        iv "더 좋은 곳에서 역량을 펼치시기를 응원하겠습니다."
        narr "【F 등급: 탈락 엔딩】"

    return
